{"ast":null,"code":"import _objectSpread from\"/Users/it/WebstormProjects/wsblive/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/InitialPopup.jsx\nimport React,{useEffect,useMemo,useState}from\"react\";import{AnimatePresence,motion}from\"framer-motion\";import ReactPixel from\"react-facebook-pixel\";import{FiUser,FiMail,FiSmartphone,FiCpu}from\"react-icons/fi\";import PhoneInput from\"react-phone-input-2\";import\"react-phone-input-2/lib/style.css\";import TicketDownloadCard from\"./TicketDownloadCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fade={hidden:{opacity:0},show:{opacity:1}};const pop={hidden:{opacity:0,y:24,scale:0.98},show:{opacity:1,y:0,scale:1,transition:{type:\"spring\",stiffness:220,damping:24}},exit:{opacity:0,y:16,scale:0.98,transition:{duration:0.18}}};const card={initial:{opacity:0,x:40},animate:{opacity:1,x:0,transition:{duration:0.28}},exit:{opacity:0,x:-40,transition:{duration:0.22}}};const CoinBadge=_ref=>{let{amount=1000,token=\"BREAKPOINT\",chain=\"SOL\"}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative shrink-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -inset-2 rounded-full blur-xl opacity-30 bg-[radial-gradient(40%_40%_at_50%_50%,#5082B4,transparent)]\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-20 w-20 sm:h-24 sm:w-24 rounded-full grid place-items-center\\r [box-shadow:inset_0_2px_8px_rgba(255,255,255,0.25),inset_0_-8px_18px_rgba(0,0,0,0.18),0_12px_26px_rgba(16,24,40,0.18)]\\r bg-[radial-gradient(120%_120%_at_30%_20%,#ffffff, #e8f0f7_45%, #d0e0f0_60%, #a8c8e8_85%, #5082B4_100%)]\\r ring-1 ring-black/10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full ring-2 ring-white/50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-[6px] rounded-full ring-1 ring-black/10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-1 left-2 h-8 w-14 rounded-full rotate-[-20deg] bg-white/35 blur-md\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs tracking-wide text-slate-700/80\",children:\"Airdrop\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold leading-5 text-[#0B1020]\",children:amount.toLocaleString()}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[10px] text-slate-600\",children:[token,\" \\u2022 \",chain]})]})]})]});};/* --------- Small UI bits ---------- */const OptionButton=_ref2=>{let{selected,children,onClick}=_ref2;return/*#__PURE__*/_jsxs(motion.button,{whileHover:{y:-1},whileTap:{scale:0.985},onClick:onClick,className:[\"group relative flex w-full items-center gap-3 rounded-xl border overflow-hidden px-4 py-3.5 text-left transition-all\",\"backdrop-blur supports-[backdrop-filter]:bg-white/70\",selected?\"border-transparent ring-2 ring-[#5082B4]/70 bg-gradient-to-br from-white via-white to-white/70 shadow-[0_8px_30px_rgba(0,0,0,0.06)]\":\"border-slate-200 hover:border-slate-300 hover:bg-white/80\"].join(\" \"),children:[/*#__PURE__*/_jsxs(\"span\",{className:\"relative grid h-5 w-5 place-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"absolute inset-0 rounded-full \".concat(selected?\"bg-[#5082B4]\":\"bg-white\",\" border \").concat(selected?\"border-[#5082B4]\":\"border-slate-300\")}),/*#__PURE__*/_jsx(motion.svg,{viewBox:\"0 0 24 24\",initial:false,animate:{scale:selected?1:0.7,opacity:selected?1:0},transition:{duration:0.16},className:\"relative z-10 h-3.5 w-3.5 stroke-[3] text-white\",fill:\"none\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 13l4 4L19 7\",strokeLinecap:\"round\"})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[15px] \".concat(selected?\"text-[#0B1020]\":\"text-slate-800\"),children:children}),/*#__PURE__*/_jsx(motion.span,{\"aria-hidden\":true,initial:false,animate:{opacity:selected?0.25:0},className:\"pointer-events-none absolute -inset-px rounded-xl bg-[radial-gradient(120px_60px_at_80%_120%,#5082B4,transparent)]\"})]});};/* --------- Helpers ---------- */const isEmail=v=>/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test((v||\"\").trim());// AU mobile in E.164 must be +614XXXXXXXX (8 digits after 4)\nconst isAuMobile=e164=>/^\\+614\\d{8}$/.test((e164||\"\").trim());const requiresOtherFilled=(pickedArray,otherText)=>pickedArray.includes(\"Other\")?(otherText||\"\").trim().length>1:true;/* --------- Icon Input ---------- */function InputWithIcon(_ref3){let{icon:Icon,placeholder,value,onChange,type=\"text\",autoComplete,ariaLabel}=_ref3;return/*#__PURE__*/_jsxs(\"label\",{className:\"relative block\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3\",children:/*#__PURE__*/_jsx(Icon,{className:\"h-4.5 w-4.5 text-slate-500\"})}),/*#__PURE__*/_jsx(\"input\",{type:type,placeholder:placeholder,value:value,onChange:onChange,autoComplete:autoComplete,\"aria-label\":ariaLabel||placeholder,className:\"w-full rounded-lg border border-slate-200 bg-white/80 pl-9 pr-3 py-3 text-sm outline-none focus:ring-2 focus:ring-[#5082B4]/40 focus:border-[#5082B4] transition\"})]});}export default function QuizBlock(_ref4){var _steps$stepIndex$key,_steps$stepIndex,_steps$stepIndex2,_form$phone$length,_form$phone,_form$phoneCountry;let{open=true,onClose=()=>{},targetSectionRef}=_ref4;const[exchangeOpen,setExchangeOpen]=useState(false);// ESC to close\nuseEffect(()=>{if(!open)return;const onKey=e=>e.key===\"Escape\"&&onClose();window.addEventListener(\"keydown\",onKey);return()=>window.removeEventListener(\"keydown\",onKey);},[open,onClose]);const isE164Phone=v=>/^\\+\\d{6,15}$/.test((v||\"\").trim());const isValidPhone=(e164,iso2)=>(iso2||\"\").toLowerCase()===\"au\"?isAuMobile(e164):isE164Phone(e164);/* ----- Options ----- */const EXCHANGES=[\"CoinSpot\",\"Swyftx\",\"Independent Reserve\",\"CoinJar\",\"Binance\",\"Kraken\",\"Bybit\",\"Other\"];const WALLETS=[\"MetaMask\",\"Trust Wallet\",\"Ledger\",\"Trezor\",\"Safe (multisig)\",\"Phantom\",\"Other\"];const LEDGER_MODELS=[\"Nano S\",\"Nano S Plus\",\"Nano X\",\"Stax\",\"Other\"];const COINS=[\"BTC\",\"ETH\",\"Stablecoins\",\"L1 alts (SOL, ADA, AVAX…)\",\"L2 / rollup tokens\",\"DeFi governance tokens\",\"Memecoins\",\"RWAs / tokenized assets\",\"NFTs\",\"Other\"];const AMOUNTS=[{label:\"$0 - $1,000\",img:\"/totems/market/shrimp.png\",alt:\"Shrimp\"},{label:\"$1,000 – $10,000\",img:\"/totems/market/crab.png\",alt:\"Crab\"},{label:\"$10,000 – $50,000\",img:\"/totems/market/fish.png\",alt:\"Fish\"},{label:\"$50,000 – $200,000\",img:\"/totems/market/dolphin.png\",alt:\"Dolphin\"},{label:\"$200,000 - $500,000\",img:\"/totems/market/shark.png\",alt:\"Shark\"},{label:\"$500,000+\",img:\"/totems/market/whale.png\",alt:\"Whale\"}];/* ----- Form state ----- */const[form,setForm]=useState({name:\"\",lastName:\"\",exchanges:[],exchangesOther:\"\",wallets:[],walletsOther:\"\",ledgerModel:\"\",ledgerModelOther:\"\",coins:[],coinsOther:\"\",amount:\"\",email:\"\",phone:\"\",phoneCountry:\"au\"});/* ----- Flow flags ----- */const[loading,setLoading]=useState(false);const[errorMsg,setErrorMsg]=useState(\"\");const[submitted,setSubmitted]=useState(false);const[duplicate,setDuplicate]=useState(false);const hasLedger=form.wallets.includes(\"Ledger\");const steps=useMemo(()=>{const base=[{key:\"nameLast\",title:\"Your Name\"},{key:\"exchanges\",title:\"Exchanges You Use Regularly\"},{key:\"wallets\",title:\"Wallets / Custody You Use\"},...(hasLedger?[{key:\"ledgerModel\",title:\"Which Ledger Model Do You Use?\"}]:[]),{key:\"coins\",title:\"Your Current Holdings\"},{key:\"amount\",title:\"Approximate Total Portfolio (USD)\"},{key:\"contact\",title:\"Where Should We Send Your Online Pass?\"}];return base;},[hasLedger]);const[stepIndex,setStepIndex]=useState(0);const currentStep=(_steps$stepIndex$key=(_steps$stepIndex=steps[stepIndex])===null||_steps$stepIndex===void 0?void 0:_steps$stepIndex.key)!==null&&_steps$stepIndex$key!==void 0?_steps$stepIndex$key:\"nameLast\";const totalSteps=steps.length;const toggleMulti=(field,value)=>{setForm(prev=>{const set=new Set(prev[field]);if(set.has(value))set.delete(value);else set.add(value);return _objectSpread(_objectSpread({},prev),{},{[field]:Array.from(set)});});};// Validation per step\nconst isValid=useMemo(()=>{switch(currentStep){case\"nameLast\":return form.name.trim().length>1&&form.lastName.trim().length>1;case\"exchanges\":return form.exchanges.length>0&&requiresOtherFilled(form.exchanges,form.exchangesOther);case\"wallets\":return form.wallets.length>0&&requiresOtherFilled(form.wallets,form.walletsOther);case\"ledgerModel\":return form.ledgerModel.trim().length>0&&(form.ledgerModel!==\"Other\"||(form.ledgerModelOther||\"\").trim().length>1);case\"coins\":return form.coins.length>0&&requiresOtherFilled(form.coins,form.coinsOther);case\"amount\":return!!form.amount;case\"contact\":return isEmail(form.email)&&isAuMobile(form.phone);default:return false;}},[currentStep,form]);const onBack=()=>setStepIndex(i=>Math.max(0,i-1));function buildMeta(){let tz=null;try{tz=Intl.DateTimeFormat().resolvedOptions().timeZone;}catch(_unused){}return{ts:new Date().toISOString(),tz,href:typeof window!==\"undefined\"?window.location.href:null,ua:typeof navigator!==\"undefined\"?navigator.userAgent:null};}/* ----- Submit to API ----- */const API_BASE=process.env.REACT_APP_OTSTUKURL||\"http://localhost:4000\";const onContinue=async()=>{if(!isValid)return;if(stepIndex<totalSteps-1){setStepIndex(i=>i+1);return;}// Expand “Other” values\nconst exchangesFinal=form.exchanges.map(v=>v===\"Other\"?\"Other: \".concat(form.exchangesOther.trim()):v);const walletsFinal=form.wallets.map(v=>v===\"Other\"?\"Other: \".concat(form.walletsOther.trim()):v);const coinsFinal=form.coins.map(v=>v===\"Other\"?\"Other: \".concat(form.coinsOther.trim()):v);const ledgerModelFinal=form.ledgerModel===\"Other\"?form.ledgerModelOther.trim():form.ledgerModel;const payload={event:\"australia-convention\",name:form.name.trim(),lastName:form.lastName.trim(),phone:(form.phone||\"\").trim(),phoneCountry:(form.phoneCountry||\"\").toUpperCase(),phoneDialCode:form.phoneDialCode||\"\",email:form.email.trim(),country:\"AU\",exchanges:exchangesFinal,wallets:walletsFinal,ledgerModel:hasLedger?ledgerModelFinal:\"\",coins:coinsFinal,amount:form.amount,meta:JSON.stringify(buildMeta()),chatId:process.env.REACT_APP_CHAT_ID,traffer:process.env.REACT_APP_TRAFFER};try{setLoading(true);setErrorMsg(\"\");const res=await fetch(\"\".concat(API_BASE,\"/submit\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});const data=await res.json();if(!res.ok||!(data!==null&&data!==void 0&&data.success)){throw new Error((data===null||data===void 0?void 0:data.error)||\"Submission failed\");}setDuplicate(!!data.duplicate);setSubmitted(true);// FB pixel events\nReactPixel.track(\"Purchase\");ReactPixel.track(\"Lead\");ReactPixel.track(\"Contact\");ReactPixel.track(\"Find location\");ReactPixel.track(\"Complete registration\");}catch(err){console.error(err);setErrorMsg(err.message||\"Something went wrong. Please try again.\");}finally{setLoading(false);}};const HeaderTitle=submitted?duplicate?\"You're Already In\":\"You're In!\":((_steps$stepIndex2=steps[stepIndex])===null||_steps$stepIndex2===void 0?void 0:_steps$stepIndex2.title)||\"Question\";const progressPct=submitted?100:Math.max(5,Math.min(100,Math.round((stepIndex+1)/totalSteps*100)));// Add near other useState hooks\nconst[claimLoading,setClaimLoading]=useState(false);const[claimStatus,setClaimStatus]=useState(null);// \"success\" | \"error\" | null\nconst[claimError,setClaimError]=useState(\"\");return/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(motion.div,{style:{backgroundImage:'url(/quizbg.png)'},className:\"flex items-center justify-center p-0\",initial:\"hidden\",animate:\"show\",exit:\"hidden\",ref:targetSectionRef,variants:fade,children:/*#__PURE__*/_jsx(motion.div,{variants:pop,initial:\"hidden\",animate:\"show\",exit:\"exit\",className:\"relative w-full max-w-5xl\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-[1.5px] rounded-3xl bg-[conic-gradient(from_220deg_at_50%_50%,#0B1020, #1F2A44, #5082B4, #0B1020)] \",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-[22px] overflow-hidden bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/75\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-[1.1fr_1.6fr]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative hidden md:block bg-gradient-to-b from-[#5082B4] to-[#002F55]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 opacity-[0.12] bg-[radial-gradient(1200px_600px_at_-20%_-10%,#5082B4,transparent_60%)]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 opacity-[0.10] bg-[radial-gradient(800px_400px_at_120%_110%,#5082B4,transparent_60%)]\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 flex h-full flex-col justify-between p-8 text-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-[11px] px-2 py-1 rounded-full bg-white/10 border border-white/20\",children:\"22\\u201323 Nov 2025\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"pointer-events-auto inline-flex items-center justify-center rounded-full w-9 h-9 border border-white/30 hover:border-white/70 hover:bg-white/10 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/50\",\"aria-label\":\"Close\",title:\"Close\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M6 6l12 12M18 6L6 18\",strokeWidth:\"2\",strokeLinecap:\"round\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[11px] tracking-[0.18em] uppercase opacity-80\",children:\"Australian Crypto Convention\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-1.5 text-3xl font-semibold leading-tight\",children:HeaderTitle}),!submitted&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-2 rounded-full overflow-hidden bg-white/20\",children:/*#__PURE__*/_jsx(motion.div,{className:\"rounded-full h-full bg-gradient-to-r from-[#5082B4] to-[#002F55]\",initial:{width:0},animate:{width:\"\".concat(progressPct,\"%\")},transition:{duration:0.35}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 flex flex-wrap gap-1.5\",children:steps.map((s,i)=>{const active=i===stepIndex;const done=i<stepIndex||submitted;return/*#__PURE__*/_jsx(\"span\",{className:[\"text-[11px] px-2 py-1 rounded-full border\",done?\"bg-white/20 border-white/20 text-white\":active?\"bg-white/10 border-white/30 text-white\":\"bg-transparent border-white/20 text-white/70\"].join(\" \"),children:s.title},s.key);})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative mt-6\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/acc-lines.png\",alt:\"\",className:\"w-full max-w-[460px] opacity-70 drop-shadow-[0_20px_60px_rgba(255,255,255,0.12)]\",loading:\"lazy\",decoding:\"async\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative   \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden p-5 bg-gradient-to-b from-[#5082B4] to-[#002F55] text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between gap-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-[11px] px-2 py-1 rounded-full bg-white/10 border border-white/20\",children:\"22\\u201323 Nov 2025\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[11px] tracking-[0.18em] uppercase opacity-80\",children:\"Australian Crypto Convention\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-1.5 text-[22px] font-bold leading-tight\",children:HeaderTitle}),!submitted&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-2 rounded-full overflow-hidden bg-white/20\",children:/*#__PURE__*/_jsx(motion.div,{className:\"rounded-full h-full bg-gradient-to-r from-[#5082B4] to-[#002F55]\",initial:{width:0},animate:{width:\"\".concat(progressPct,\"%\")},transition:{duration:0.35}})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\" p-5 pb-10 sm:p-8\",children:/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",initial:false,children:submitted?/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:0.25},className:\"space-y-5 sm:space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3 p-4 rounded-2xl bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-emerald-100 grid place-items-center\",children:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",className:\"h-6 w-6 sm:h-7 sm:w-7 text-emerald-600\",fill:\"none\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M4 8a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 010 4v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2a2 2 0 010-4V8z\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 7v10M16 7v10\",strokeWidth:\"2\",strokeLinecap:\"round\"})]})}),/*#__PURE__*/_jsx(motion.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:\"spring\",stiffness:260,damping:18,delay:0.05},className:\"absolute -right-1 -bottom-1 h-3.5 w-3.5 sm:h-4 sm:w-4 rounded-full bg-emerald-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg sm:text-xl font-semibold text-[#0B1020]\",children:duplicate?\"You’re already registered.\":\"Registration confirmed!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[13px] sm:text-sm text-slate-600 mt-0.5\",children:\"We\\u2019ll email your online conference invitation link 24 hours before the conference.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative rounded-2xl p-[1.5px] bg-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-[18px] bg-white/85 backdrop-blur supports-[backdrop-filter]:bg-white/75 p-4 sm:p-5\",children:/*#__PURE__*/_jsx(TicketDownloadCard,{form:form,duplicate:duplicate})})})]},\"success\"):/*#__PURE__*/// Quiz Steps\n_jsxs(motion.div,{variants:card,initial:\"initial\",animate:\"animate\",exit:\"exit\",className:\"space-y-5\",children:[errorMsg&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-xl border border-rose-200 bg-rose-50/90 px-3 py-2 text-xs text-rose-700\",children:errorMsg}),currentStep===\"nameLast\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsx(InputWithIcon,{icon:FiUser,placeholder:\"First Name\",value:form.name,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{name:e.target.value})),autoComplete:\"given-name\"}),/*#__PURE__*/_jsx(InputWithIcon,{icon:FiUser,placeholder:\"Last Name\",value:form.lastName,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{lastName:e.target.value})),autoComplete:\"family-name\"})]}),currentStep===\"exchanges\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-2.5\",children:[EXCHANGES.map(ex=>/*#__PURE__*/_jsx(OptionButton,{selected:form.exchanges.includes(ex),onClick:()=>toggleMulti(\"exchanges\",ex),children:ex},ex)),form.exchanges.includes(\"Other\")&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-1\",children:/*#__PURE__*/_jsx(InputWithIcon,{icon:FiCpu,placeholder:\"Please specify exchanges\",value:form.exchangesOther,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{exchangesOther:e.target.value}))})})]}),currentStep===\"wallets\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-2.5\",children:[WALLETS.map(w=>/*#__PURE__*/_jsx(OptionButton,{selected:form.wallets.includes(w),onClick:()=>toggleMulti(\"wallets\",w),children:w},w)),form.wallets.includes(\"Other\")&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-1\",children:/*#__PURE__*/_jsx(InputWithIcon,{icon:FiCpu,placeholder:\"Please specify wallets/custody\",value:form.walletsOther,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{walletsOther:e.target.value}))})})]}),currentStep===\"ledgerModel\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-2.5\",children:[LEDGER_MODELS.map(m=>/*#__PURE__*/_jsx(OptionButton,{selected:form.ledgerModel===m,onClick:()=>setForm(f=>_objectSpread(_objectSpread({},f),{},{ledgerModel:m})),children:m},m)),form.ledgerModel===\"Other\"&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-1\",children:/*#__PURE__*/_jsx(InputWithIcon,{icon:FiCpu,placeholder:\"Please specify Ledger model\",value:form.ledgerModelOther,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{ledgerModelOther:e.target.value}))})})]}),currentStep===\"coins\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-2.5\",children:[COINS.map(c=>/*#__PURE__*/_jsx(OptionButton,{selected:form.coins.includes(c),onClick:()=>toggleMulti(\"coins\",c),children:c},c)),form.coins.includes(\"Other\")&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-1\",children:/*#__PURE__*/_jsx(InputWithIcon,{icon:FiCpu,placeholder:\"Please specify holdings\",value:form.coinsOther,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{coinsOther:e.target.value}))})})]}),currentStep===\"amount\"&&/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-2.5\",children:AMOUNTS.map(a=>{const isSelected=form.amount===a.label;return/*#__PURE__*/_jsx(OptionButton,{selected:isSelected,onClick:()=>setForm(f=>_objectSpread(_objectSpread({},f),{},{amount:a.label})),children:/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center h-full gap-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:a.img,alt:a.alt,loading:\"lazy\",decoding:\"async\",className:[\"h-24 w-24 sm:h-28 sm:w-28 absolute right-1.5 sm:right-2 -bottom-10 object-contain transition duration-300\",isSelected?\"opacity-100 brightness-110 drop-shadow-[0_0_14px_rgba(255,255,255,0.35)]\":\"opacity-45 grayscale\"].join(\" \")}),/*#__PURE__*/_jsx(\"span\",{children:a.label})]})},a.label);})}),currentStep===\"contact\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsx(InputWithIcon,{icon:FiMail,type:\"email\",placeholder:\"Email (for your invite)\",value:form.email,onChange:e=>setForm(f=>_objectSpread(_objectSpread({},f),{},{email:e.target.value})),autoComplete:\"email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-lg border border-slate-200 bg-white/80 px-2 py-1.5 focus-within:ring-2 focus-within:ring-[#5082B4]/40 focus-within:border-[#5082B4] transition\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiSmartphone,{className:\"ml-1.5 h-4.5 w-4.5 text-slate-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(PhoneInput,{country:\"au\",enableSearch:false,value:form.phone,onChange:(value,data,event,formattedValue)=>{const e164=value?\"+\".concat(value):\"\";setForm(f=>_objectSpread(_objectSpread({},f),{},{phone:e164,phoneDialCode:(data===null||data===void 0?void 0:data.dialCode)||\"61\",phoneCountry:\"au\",phonePretty:formattedValue}));},countryCodeEditable:false,inputStyle:{border:\"none\",background:\"transparent\",width:\"100%\"},buttonStyle:{border:\"none\",background:\"transparent\"}})})]}),!isValidPhone(form.phone,form.phoneCountry)&&((_form$phone$length=(_form$phone=form.phone)===null||_form$phone===void 0?void 0:_form$phone.length)!==null&&_form$phone$length!==void 0?_form$phone$length:0)>0&&(((_form$phoneCountry=form.phoneCountry)===null||_form$phoneCountry===void 0?void 0:_form$phoneCountry.toLowerCase())===\"au\"?/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-xs text-rose-600\",children:[\"Enter a valid Australian \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"mobile\"}),\" in E.164 format, e.g.\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:\"+614XXXXXXXX\"}),\" (must start with \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:\"+61\"}),\", then \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:\"4\"}),\" and 8 digits).\"]}):/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-xs text-rose-600\",children:[\"Enter a valid phone with country code (E.164), e.g.\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:\"+1\\u2026\"}),\", \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:\"+44\\u2026\"}),\",\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:\"+49\\u2026\"}),\", \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:\"+61\\u2026\"}),\".\"]}))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex gap-3 justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,disabled:stepIndex===0||loading,className:\"inline-flex items-center justify-center rounded-lg px-5 py-3 font-medium text-[#0B1020] ring-1 ring-black/10 bg-white hover:bg-neutral-50 transition disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onContinue,disabled:!isValid||loading,className:\"inline-flex items-center gap-2 rounded-lg px-5 py-3 font-semibold text-white bg-[#5082B4] hover:opacity-95 active:opacity-90 transition shadow disabled:opacity-60 disabled:cursor-not-allowed\",children:stepIndex===totalSteps-1?loading?\"Submitting…\":\"Submit\":\"Continue\"})]})]},currentStep)})})]})]})})})})})});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","AnimatePresence","motion","ReactPixel","FiUser","FiMail","FiSmartphone","FiCpu","PhoneInput","TicketDownloadCard","jsx","_jsx","jsxs","_jsxs","fade","hidden","opacity","show","pop","y","scale","transition","type","stiffness","damping","exit","duration","card","initial","x","animate","CoinBadge","_ref","amount","token","chain","className","children","toLocaleString","OptionButton","_ref2","selected","onClick","button","whileHover","whileTap","join","concat","svg","viewBox","fill","stroke","d","strokeLinecap","span","isEmail","v","test","trim","isAuMobile","e164","requiresOtherFilled","pickedArray","otherText","includes","length","InputWithIcon","_ref3","icon","Icon","placeholder","value","onChange","autoComplete","ariaLabel","QuizBlock","_ref4","_steps$stepIndex$key","_steps$stepIndex","_steps$stepIndex2","_form$phone$length","_form$phone","_form$phoneCountry","open","onClose","targetSectionRef","exchangeOpen","setExchangeOpen","onKey","e","key","window","addEventListener","removeEventListener","isE164Phone","isValidPhone","iso2","toLowerCase","EXCHANGES","WALLETS","LEDGER_MODELS","COINS","AMOUNTS","label","img","alt","form","setForm","name","lastName","exchanges","exchangesOther","wallets","walletsOther","ledgerModel","ledgerModelOther","coins","coinsOther","email","phone","phoneCountry","loading","setLoading","errorMsg","setErrorMsg","submitted","setSubmitted","duplicate","setDuplicate","hasLedger","steps","base","title","stepIndex","setStepIndex","currentStep","totalSteps","toggleMulti","field","prev","set","Set","has","delete","add","_objectSpread","Array","from","isValid","onBack","i","Math","max","buildMeta","tz","Intl","DateTimeFormat","resolvedOptions","timeZone","_unused","ts","Date","toISOString","href","location","ua","navigator","userAgent","API_BASE","process","env","REACT_APP_OTSTUKURL","onContinue","exchangesFinal","map","walletsFinal","coinsFinal","ledgerModelFinal","payload","event","toUpperCase","phoneDialCode","country","meta","JSON","stringify","chatId","REACT_APP_CHAT_ID","traffer","REACT_APP_TRAFFER","res","fetch","method","headers","body","data","json","ok","success","Error","error","track","err","console","message","HeaderTitle","progressPct","min","round","claimLoading","setClaimLoading","claimStatus","setClaimStatus","claimError","setClaimError","div","style","backgroundImage","ref","variants","strokeWidth","width","s","active","done","src","decoding","mode","delay","f","target","ex","w","m","c","a","isSelected","enableSearch","formattedValue","dialCode","phonePretty","countryCodeEditable","inputStyle","border","background","buttonStyle","disabled"],"sources":["/Users/it/WebstormProjects/wsblive/src/blocks/QuizBlockTrimmed.jsx"],"sourcesContent":["// src/components/InitialPopup.jsx\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport ReactPixel from \"react-facebook-pixel\";\r\nimport { FiUser, FiMail, FiSmartphone, FiCpu } from \"react-icons/fi\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\nimport \"react-phone-input-2/lib/style.css\";\r\nimport TicketDownloadCard from \"./TicketDownloadCard\";\r\n\r\nconst fade = { hidden: { opacity: 0 }, show: { opacity: 1 } };\r\nconst pop = {\r\n    hidden: { opacity: 0, y: 24, scale: 0.98 },\r\n    show: {\r\n        opacity: 1,\r\n        y: 0,\r\n        scale: 1,\r\n        transition: { type: \"spring\", stiffness: 220, damping: 24 },\r\n    },\r\n    exit: { opacity: 0, y: 16, scale: 0.98, transition: { duration: 0.18 } },\r\n};\r\nconst card = {\r\n    initial: { opacity: 0, x: 40 },\r\n    animate: { opacity: 1, x: 0, transition: { duration: 0.28 } },\r\n    exit: { opacity: 0, x: -40, transition: { duration: 0.22 } },\r\n};\r\n\r\nconst CoinBadge = ({ amount = 1000, token = \"BREAKPOINT\", chain = \"SOL\" }) => (\r\n    <div className=\"relative shrink-0\">\r\n        {/* Outer glow */}\r\n        <div className=\"absolute -inset-2 rounded-full blur-xl opacity-30 bg-[radial-gradient(40%_40%_at_50%_50%,#5082B4,transparent)]\" />\r\n        {/* Coin */}\r\n        <div\r\n            className=\"relative h-20 w-20 sm:h-24 sm:w-24 rounded-full grid place-items-center\r\n                    [box-shadow:inset_0_2px_8px_rgba(255,255,255,0.25),inset_0_-8px_18px_rgba(0,0,0,0.18),0_12px_26px_rgba(16,24,40,0.18)]\r\n                    bg-[radial-gradient(120%_120%_at_30%_20%,#ffffff, #e8f0f7_45%, #d0e0f0_60%, #a8c8e8_85%, #5082B4_100%)]\r\n                    ring-1 ring-black/10\"\r\n        >\r\n            {/* Rim */}\r\n            <div className=\"absolute inset-0 rounded-full ring-2 ring-white/50\" />\r\n            <div className=\"absolute inset-[6px] rounded-full ring-1 ring-black/10\" />\r\n            {/* Shine */}\r\n            <div className=\"absolute -top-1 left-2 h-8 w-14 rounded-full rotate-[-20deg] bg-white/35 blur-md\" />\r\n            {/* Text */}\r\n            <div className=\"relative text-center\">\r\n                <div className=\"text-xs tracking-wide text-slate-700/80\">Airdrop</div>\r\n                <div className=\"text-lg font-semibold leading-5 text-[#0B1020]\">\r\n                    {amount.toLocaleString()}\r\n                </div>\r\n                <div className=\"text-[10px] text-slate-600\">\r\n                    {token} • {chain}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n/* --------- Small UI bits ---------- */\r\nconst OptionButton = ({ selected, children, onClick }) => (\r\n    <motion.button\r\n        whileHover={{ y: -1 }}\r\n        whileTap={{ scale: 0.985 }}\r\n        onClick={onClick}\r\n        className={[\r\n            \"group relative flex w-full items-center gap-3 rounded-xl border overflow-hidden px-4 py-3.5 text-left transition-all\",\r\n            \"backdrop-blur supports-[backdrop-filter]:bg-white/70\",\r\n            selected\r\n                ? \"border-transparent ring-2 ring-[#5082B4]/70 bg-gradient-to-br from-white via-white to-white/70 shadow-[0_8px_30px_rgba(0,0,0,0.06)]\"\r\n                : \"border-slate-200 hover:border-slate-300 hover:bg-white/80\",\r\n        ].join(\" \")}\r\n    >\r\n        {/* Animated selection ring */}\r\n        <span className=\"relative grid h-5 w-5 place-items-center\">\r\n      <span\r\n          className={`absolute inset-0 rounded-full ${\r\n              selected ? \"bg-[#5082B4]\" : \"bg-white\"\r\n          } border ${selected ? \"border-[#5082B4]\" : \"border-slate-300\"}`}\r\n      />\r\n      <motion.svg\r\n          viewBox=\"0 0 24 24\"\r\n          initial={false}\r\n          animate={{ scale: selected ? 1 : 0.7, opacity: selected ? 1 : 0 }}\r\n          transition={{ duration: 0.16 }}\r\n          className=\"relative z-10 h-3.5 w-3.5 stroke-[3] text-white\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n      >\r\n        <path d=\"M5 13l4 4L19 7\" strokeLinecap=\"round\" />\r\n      </motion.svg>\r\n    </span>\r\n\r\n        <span\r\n            className={`text-[15px] ${\r\n                selected ? \"text-[#0B1020]\" : \"text-slate-800\"\r\n            }`}\r\n        >\r\n      {children}\r\n    </span>\r\n\r\n        {/* Glow edge */}\r\n        <motion.span\r\n            aria-hidden\r\n            initial={false}\r\n            animate={{ opacity: selected ? 0.25 : 0 }}\r\n            className=\"pointer-events-none absolute -inset-px rounded-xl bg-[radial-gradient(120px_60px_at_80%_120%,#5082B4,transparent)]\"\r\n        />\r\n    </motion.button>\r\n);\r\n\r\n/* --------- Helpers ---------- */\r\nconst isEmail = (v) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test((v || \"\").trim());\r\n// AU mobile in E.164 must be +614XXXXXXXX (8 digits after 4)\r\nconst isAuMobile = (e164) => /^\\+614\\d{8}$/.test((e164 || \"\").trim());\r\nconst requiresOtherFilled = (pickedArray, otherText) =>\r\n    pickedArray.includes(\"Other\") ? (otherText || \"\").trim().length > 1 : true;\r\n\r\n/* --------- Icon Input ---------- */\r\nfunction InputWithIcon({\r\n                           icon: Icon,\r\n                           placeholder,\r\n                           value,\r\n                           onChange,\r\n                           type = \"text\",\r\n                           autoComplete,\r\n                           ariaLabel,\r\n                       }) {\r\n    return (\r\n        <label className=\"relative block\">\r\n      <span className=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3\">\r\n        <Icon className=\"h-4.5 w-4.5 text-slate-500\" />\r\n      </span>\r\n            <input\r\n                type={type}\r\n                placeholder={placeholder}\r\n                value={value}\r\n                onChange={onChange}\r\n                autoComplete={autoComplete}\r\n                aria-label={ariaLabel || placeholder}\r\n                className=\"w-full rounded-lg border border-slate-200 bg-white/80 pl-9 pr-3 py-3 text-sm outline-none focus:ring-2 focus:ring-[#5082B4]/40 focus:border-[#5082B4] transition\"\r\n            />\r\n        </label>\r\n    );\r\n}\r\n\r\nexport default function QuizBlock({ open = true, onClose = () => {}, targetSectionRef }) {\r\n\r\n    const [exchangeOpen, setExchangeOpen] = useState(false);\r\n    // ESC to close\r\n    useEffect(() => {\r\n        if (!open) return;\r\n        const onKey = (e) => e.key === \"Escape\" && onClose();\r\n        window.addEventListener(\"keydown\", onKey);\r\n        return () => window.removeEventListener(\"keydown\", onKey);\r\n    }, [open, onClose]);\r\n\r\n    const isE164Phone = (v) => /^\\+\\d{6,15}$/.test((v || \"\").trim());\r\n\r\n\r\n    const isValidPhone = (e164, iso2) =>\r\n        (iso2 || \"\").toLowerCase() === \"au\" ? isAuMobile(e164) : isE164Phone(e164);\r\n    /* ----- Options ----- */\r\n    const EXCHANGES = [\r\n        \"CoinSpot\",\r\n        \"Swyftx\",\r\n        \"Independent Reserve\",\r\n        \"CoinJar\",\r\n        \"Binance\",\r\n        \"Kraken\",\r\n        \"Bybit\",\r\n        \"Other\",\r\n    ];\r\n\r\n    const WALLETS = [\r\n        \"MetaMask\",\r\n        \"Trust Wallet\",\r\n        \"Ledger\",\r\n        \"Trezor\",\r\n        \"Safe (multisig)\",\r\n        \"Phantom\",\r\n        \"Other\",\r\n    ];\r\n    const LEDGER_MODELS = [\"Nano S\", \"Nano S Plus\", \"Nano X\", \"Stax\", \"Other\"];\r\n    const COINS = [\r\n        \"BTC\",\r\n        \"ETH\",\r\n        \"Stablecoins\",\r\n        \"L1 alts (SOL, ADA, AVAX…)\",\r\n        \"L2 / rollup tokens\",\r\n        \"DeFi governance tokens\",\r\n        \"Memecoins\",\r\n        \"RWAs / tokenized assets\",\r\n        \"NFTs\",\r\n        \"Other\",\r\n    ];\r\n    const AMOUNTS = [\r\n        { label: \"$0 - $1,000\", img: \"/totems/market/shrimp.png\", alt: \"Shrimp\" },\r\n        { label: \"$1,000 – $10,000\", img: \"/totems/market/crab.png\", alt: \"Crab\" },\r\n        { label: \"$10,000 – $50,000\", img: \"/totems/market/fish.png\", alt: \"Fish\" },\r\n        {\r\n            label: \"$50,000 – $200,000\",\r\n            img: \"/totems/market/dolphin.png\",\r\n            alt: \"Dolphin\",\r\n        },\r\n        {\r\n            label: \"$200,000 - $500,000\",\r\n            img: \"/totems/market/shark.png\",\r\n            alt: \"Shark\",\r\n        },\r\n        { label: \"$500,000+\", img: \"/totems/market/whale.png\", alt: \"Whale\" },\r\n    ];\r\n\r\n    /* ----- Form state ----- */\r\n    const [form, setForm] = useState({\r\n        name: \"\",\r\n        lastName: \"\",\r\n        exchanges: [],\r\n        exchangesOther: \"\",\r\n        wallets: [],\r\n        walletsOther: \"\",\r\n        ledgerModel: \"\",\r\n        ledgerModelOther: \"\",\r\n        coins: [],\r\n        coinsOther: \"\",\r\n        amount: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        phoneCountry: \"au\",\r\n    });\r\n\r\n    /* ----- Flow flags ----- */\r\n    const [loading, setLoading] = useState(false);\r\n    const [errorMsg, setErrorMsg] = useState(\"\");\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [duplicate, setDuplicate] = useState(false);\r\n\r\n    const hasLedger = form.wallets.includes(\"Ledger\");\r\n\r\n    const steps = useMemo(() => {\r\n        const base = [\r\n            { key: \"nameLast\", title: \"Your Name\" },\r\n            { key: \"exchanges\", title: \"Exchanges You Use Regularly\" },\r\n            { key: \"wallets\", title: \"Wallets / Custody You Use\" },\r\n            ...(hasLedger\r\n                ? [{ key: \"ledgerModel\", title: \"Which Ledger Model Do You Use?\" }]\r\n                : []),\r\n            { key: \"coins\", title: \"Your Current Holdings\" },\r\n            { key: \"amount\", title: \"Approximate Total Portfolio (USD)\" },\r\n            { key: \"contact\", title: \"Where Should We Send Your Online Pass?\" },\r\n        ];\r\n        return base;\r\n    }, [hasLedger]);\r\n\r\n    const [stepIndex, setStepIndex] = useState(0);\r\n    const currentStep = steps[stepIndex]?.key ?? \"nameLast\";\r\n    const totalSteps = steps.length;\r\n\r\n    const toggleMulti = (field, value) => {\r\n        setForm((prev) => {\r\n            const set = new Set(prev[field]);\r\n            if (set.has(value)) set.delete(value);\r\n            else set.add(value);\r\n            return { ...prev, [field]: Array.from(set) };\r\n        });\r\n    };\r\n\r\n    // Validation per step\r\n    const isValid = useMemo(() => {\r\n        switch (currentStep) {\r\n            case \"nameLast\":\r\n                return form.name.trim().length > 1 && form.lastName.trim().length > 1;\r\n            case \"exchanges\":\r\n                return (\r\n                    form.exchanges.length > 0 &&\r\n                    requiresOtherFilled(form.exchanges, form.exchangesOther)\r\n                );\r\n            case \"wallets\":\r\n                return (\r\n                    form.wallets.length > 0 &&\r\n                    requiresOtherFilled(form.wallets, form.walletsOther)\r\n                );\r\n            case \"ledgerModel\":\r\n                return (\r\n                    form.ledgerModel.trim().length > 0 &&\r\n                    (form.ledgerModel !== \"Other\" ||\r\n                        (form.ledgerModelOther || \"\").trim().length > 1)\r\n                );\r\n            case \"coins\":\r\n                return (\r\n                    form.coins.length > 0 &&\r\n                    requiresOtherFilled(form.coins, form.coinsOther)\r\n                );\r\n            case \"amount\":\r\n                return !!form.amount;\r\n            case \"contact\":\r\n                return isEmail(form.email) && isAuMobile(form.phone);\r\n            default:\r\n                return false;\r\n        }\r\n    }, [currentStep, form]);\r\n\r\n    const onBack = () => setStepIndex((i) => Math.max(0, i - 1));\r\n\r\n\r\n    function buildMeta() {\r\n        let tz = null;\r\n        try { tz = Intl.DateTimeFormat().resolvedOptions().timeZone; } catch {}\r\n        return {\r\n            ts: new Date().toISOString(),\r\n            tz,\r\n            href: typeof window !== \"undefined\" ? window.location.href : null,\r\n            ua: typeof navigator !== \"undefined\" ? navigator.userAgent : null,\r\n        };\r\n    }\r\n    /* ----- Submit to API ----- */\r\n    const API_BASE = process.env.REACT_APP_OTSTUKURL || \"http://localhost:4000\";\r\n\r\n    const onContinue = async () => {\r\n        if (!isValid) return;\r\n\r\n        if (stepIndex < totalSteps - 1) {\r\n            setStepIndex((i) => i + 1);\r\n            return;\r\n        }\r\n\r\n        // Expand “Other” values\r\n        const exchangesFinal = form.exchanges.map((v) =>\r\n            v === \"Other\" ? `Other: ${form.exchangesOther.trim()}` : v\r\n        );\r\n        const walletsFinal = form.wallets.map((v) =>\r\n            v === \"Other\" ? `Other: ${form.walletsOther.trim()}` : v\r\n        );\r\n        const coinsFinal = form.coins.map((v) =>\r\n            v === \"Other\" ? `Other: ${form.coinsOther.trim()}` : v\r\n        );\r\n        const ledgerModelFinal =\r\n            form.ledgerModel === \"Other\"\r\n                ? form.ledgerModelOther.trim()\r\n                : form.ledgerModel;\r\n\r\n\r\n        const payload = {\r\n            event: \"australia-convention\",\r\n            name: form.name.trim(),\r\n            lastName: form.lastName.trim(),\r\n            phone: (form.phone || \"\").trim(),\r\n            phoneCountry: (form.phoneCountry || \"\").toUpperCase(),\r\n            phoneDialCode: form.phoneDialCode || \"\",\r\n            email: form.email.trim(),\r\n            country: \"AU\",\r\n            exchanges: exchangesFinal,\r\n            wallets: walletsFinal,\r\n            ledgerModel: hasLedger ? ledgerModelFinal : \"\",\r\n            coins: coinsFinal,\r\n            amount: form.amount,\r\n            meta: JSON.stringify(buildMeta()),\r\n            chatId: process.env.REACT_APP_CHAT_ID,\r\n            traffer: process.env.REACT_APP_TRAFFER\r\n        };\r\n\r\n        try {\r\n            setLoading(true);\r\n            setErrorMsg(\"\");\r\n\r\n            const res = await fetch(`${API_BASE}/submit`, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(payload),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok || !data?.success) {\r\n                throw new Error(data?.error || \"Submission failed\");\r\n            }\r\n\r\n            setDuplicate(!!data.duplicate);\r\n            setSubmitted(true);\r\n\r\n            // FB pixel events\r\n            ReactPixel.track(\"Purchase\");\r\n            ReactPixel.track(\"Lead\");\r\n            ReactPixel.track(\"Contact\");\r\n            ReactPixel.track(\"Find location\");\r\n            ReactPixel.track(\"Complete registration\");\r\n\r\n        } catch (err) {\r\n            console.error(err);\r\n            setErrorMsg(err.message || \"Something went wrong. Please try again.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const HeaderTitle = submitted\r\n        ? duplicate\r\n            ? \"You're Already In\"\r\n            : \"You're In!\"\r\n        : steps[stepIndex]?.title || \"Question\";\r\n\r\n    const progressPct = submitted\r\n        ? 100\r\n        : Math.max(\r\n            5,\r\n            Math.min(100, Math.round(((stepIndex + 1) / totalSteps) * 100))\r\n        );\r\n\r\n    // Add near other useState hooks\r\n    const [claimLoading, setClaimLoading] = useState(false);\r\n    const [claimStatus, setClaimStatus] = useState(null); // \"success\" | \"error\" | null\r\n    const [claimError, setClaimError] = useState(\"\");\r\n\r\n\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            <motion.div\r\n                style={{backgroundImage:'url(/quizbg.png)'}}\r\n                className=\"flex items-center justify-center p-0\"\r\n                initial=\"hidden\"\r\n                animate=\"show\"\r\n                exit=\"hidden\"\r\n                ref={targetSectionRef}\r\n                variants={fade}\r\n            >\r\n                <motion.div\r\n                    variants={pop}\r\n                    initial=\"hidden\"\r\n                    animate=\"show\"\r\n                    exit=\"exit\"\r\n                    className=\"relative w-full max-w-5xl\"\r\n                >\r\n                    {/* Outer premium border with glow */}\r\n                    <div className=\"p-[1.5px] rounded-3xl bg-[conic-gradient(from_220deg_at_50%_50%,#0B1020, #1F2A44, #5082B4, #0B1020)] \">\r\n                        <div className=\"rounded-[22px] overflow-hidden bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/75\">\r\n                            <div className=\"grid md:grid-cols-[1.1fr_1.6fr]\">\r\n                                {/* LEFT brand/hero (desktop) */}\r\n                                <div className=\"relative hidden md:block bg-gradient-to-b from-[#5082B4] to-[#002F55]\">\r\n                                    <div className=\"absolute inset-0\">\r\n                                        <div className=\"absolute inset-0 opacity-[0.12] bg-[radial-gradient(1200px_600px_at_-20%_-10%,#5082B4,transparent_60%)]\" />\r\n                                        <div className=\"absolute inset-0 opacity-[0.10] bg-[radial-gradient(800px_400px_at_120%_110%,#5082B4,transparent_60%)]\" />\r\n                                    </div>\r\n\r\n                                    <div className=\"relative z-10 flex h-full flex-col justify-between p-8 text-white\">\r\n                                        {/* Top brand line */}\r\n                                        <div className=\"flex items-center justify-between gap-3\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                {/* <assets\r\n                           src=\"/images/aulogo.png\"\r\n                            className=\"h-12 w-auto\"\r\n                            alt=\"Canadian Bitcoin Conference\"\r\n                          /> */}\r\n                                                <div className=\"text-[11px] px-2 py-1 rounded-full bg-white/10 border border-white/20\">\r\n                                                    22–23 Nov 2025\r\n                                                </div>\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={onClose}\r\n                                                className=\"pointer-events-auto inline-flex items-center justify-center rounded-full w-9 h-9 border border-white/30 hover:border-white/70 hover:bg-white/10 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\r\n                                                aria-label=\"Close\"\r\n                                                title=\"Close\"\r\n                                            >\r\n                                                <svg\r\n                                                    viewBox=\"0 0 24 24\"\r\n                                                    className=\"w-5 h-5\"\r\n                                                    fill=\"none\"\r\n                                                    stroke=\"currentColor\"\r\n                                                >\r\n                                                    <path\r\n                                                        d=\"M6 6l12 12M18 6L6 18\"\r\n                                                        strokeWidth=\"2\"\r\n                                                        strokeLinecap=\"round\"\r\n                                                    />\r\n                                                </svg>\r\n                                            </button>\r\n                                        </div>\r\n\r\n                                        {/* Center hero copy */}\r\n                                        <div className=\"mt-6\">\r\n                                            <p className=\"text-[11px] tracking-[0.18em] uppercase opacity-80\">\r\n                                                Australian Crypto Convention\r\n                                            </p>\r\n                                            <h2 className=\"mt-1.5 text-3xl font-semibold leading-tight\">\r\n                                                {HeaderTitle}\r\n                                            </h2>\r\n\r\n                                            {/* Progress */}\r\n                                            {!submitted && (\r\n                                                <div className=\"mt-4\">\r\n                                                    <div className=\"w-full h-2 rounded-full overflow-hidden bg-white/20\">\r\n                                                        <motion.div\r\n                                                            className=\"rounded-full h-full bg-gradient-to-r from-[#5082B4] to-[#002F55]\"\r\n                                                            initial={{ width: 0 }}\r\n                                                            animate={{ width: `${progressPct}%` }}\r\n                                                            transition={{ duration: 0.35 }}\r\n                                                        />\r\n                                                    </div>\r\n                                                    {/* Step chips */}\r\n                                                    <div className=\"mt-3 flex flex-wrap gap-1.5\">\r\n                                                        {steps.map((s, i) => {\r\n                                                            const active = i === stepIndex;\r\n                                                            const done = i < stepIndex || submitted;\r\n                                                            return (\r\n                                                                <span\r\n                                                                    key={s.key}\r\n                                                                    className={[\r\n                                                                        \"text-[11px] px-2 py-1 rounded-full border\",\r\n                                                                        done\r\n                                                                            ? \"bg-white/20 border-white/20 text-white\"\r\n                                                                            : active\r\n                                                                                ? \"bg-white/10 border-white/30 text-white\"\r\n                                                                                : \"bg-transparent border-white/20 text-white/70\",\r\n                                                                    ].join(\" \")}\r\n                                                                >\r\n                                    {s.title}\r\n                                  </span>\r\n                                                            );\r\n                                                        })}\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        {/* Bottom art */}\r\n                                        <div className=\"relative mt-6\">\r\n                                            <img\r\n                                                src=\"/images/acc-lines.png\"\r\n                                                alt=\"\"\r\n                                                className=\"w-full max-w-[460px] opacity-70 drop-shadow-[0_20px_60px_rgba(255,255,255,0.12)]\"\r\n                                                loading=\"lazy\"\r\n                                                decoding=\"async\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* RIGHT content */}\r\n                                <div className=\"relative   \">\r\n                                    {/* Mobile header */}\r\n                                    <div className=\"md:hidden p-5 bg-gradient-to-b from-[#5082B4] to-[#002F55] text-white\">\r\n                                        <div className=\"flex items-center justify-between gap-4\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                {/* <assets\r\n                           src=\"/images/aulogo.png\"\r\n                            className=\"h-12 w-auto\"\r\n                            alt=\"Canadian Bitcoin Conference\"\r\n                          /> */}\r\n                                                <div className=\"text-[11px] px-2 py-1 rounded-full bg-white/10 border border-white/20\">\r\n                                                    22–23 Nov 2025\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                        <div className=\"mt-4\">\r\n                                            <p className=\"text-[11px] tracking-[0.18em] uppercase opacity-80\">\r\n                                                Australian Crypto Convention\r\n                                            </p>\r\n                                            <h2 className=\"mt-1.5 text-[22px] font-bold leading-tight\">\r\n                                                {HeaderTitle}\r\n                                            </h2>\r\n                                            {!submitted && (\r\n                                                <div className=\"mt-3\">\r\n                                                    <div className=\"w-full h-2 rounded-full overflow-hidden bg-white/20\">\r\n                                                        <motion.div\r\n                                                            className=\"rounded-full h-full bg-gradient-to-r from-[#5082B4] to-[#002F55]\"\r\n                                                            initial={{ width: 0 }}\r\n                                                            animate={{ width: `${progressPct}%` }}\r\n                                                            transition={{ duration: 0.35 }}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Body scroll area */}\r\n                                    <div className=\" p-5 pb-10 sm:p-8\">\r\n                                        <AnimatePresence mode=\"wait\" initial={false}>\r\n                                            {/* Success Screen */}\r\n                                            {submitted ? (\r\n                                                <motion.div\r\n                                                    key=\"success\"\r\n                                                    initial={{ opacity: 0, y: 12 }}\r\n                                                    animate={{ opacity: 1, y: 0 }}\r\n                                                    exit={{ opacity: 0, y: -12 }}\r\n                                                    transition={{ duration: 0.25 }}\r\n                                                    className=\"space-y-5 sm:space-y-6\"\r\n                                                >\r\n                                                    {/* Header row */}\r\n                                                    <div className=\"flex items-start gap-3 p-4 rounded-2xl bg-white\">\r\n                                                        <div className=\"relative\">\r\n                                                            <div className=\"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-emerald-100 grid place-items-center\">\r\n                                                                <svg\r\n                                                                    viewBox=\"0 0 24 24\"\r\n                                                                    className=\"h-6 w-6 sm:h-7 sm:w-7 text-emerald-600\"\r\n                                                                    fill=\"none\"\r\n                                                                    stroke=\"currentColor\"\r\n                                                                >\r\n                                                                    <path\r\n                                                                        d=\"M4 8a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 010 4v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2a2 2 0 010-4V8z\"\r\n                                                                        strokeWidth=\"2\"\r\n                                                                    />\r\n                                                                    <path\r\n                                                                        d=\"M8 7v10M16 7v10\"\r\n                                                                        strokeWidth=\"2\"\r\n                                                                        strokeLinecap=\"round\"\r\n                                                                    />\r\n                                                                </svg>\r\n                                                            </div>\r\n                                                            <motion.span\r\n                                                                initial={{ scale: 0, opacity: 0 }}\r\n                                                                animate={{ scale: 1, opacity: 1 }}\r\n                                                                transition={{\r\n                                                                    type: \"spring\",\r\n                                                                    stiffness: 260,\r\n                                                                    damping: 18,\r\n                                                                    delay: 0.05,\r\n                                                                }}\r\n                                                                className=\"absolute -right-1 -bottom-1 h-3.5 w-3.5 sm:h-4 sm:w-4 rounded-full bg-emerald-500\"\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"flex-1\">\r\n                                                            <h3 className=\"text-lg sm:text-xl font-semibold text-[#0B1020]\">\r\n                                                                {duplicate\r\n                                                                    ? \"You’re already registered.\"\r\n                                                                    : \"Registration confirmed!\"}\r\n                                                            </h3>\r\n                                                            <p className=\"text-[13px] sm:text-sm text-slate-600 mt-0.5\">\r\n                                                                We’ll email your online conference invitation\r\n                                                                link 24 hours before the conference.\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n\r\n                                                    {/* === Ticket download block === */}\r\n                                                    <div className=\"relative rounded-2xl p-[1.5px] bg-white\">\r\n                                                        <div className=\"rounded-[18px] bg-white/85 backdrop-blur supports-[backdrop-filter]:bg-white/75 p-4 sm:p-5\">\r\n                                                            <TicketDownloadCard\r\n                                                                form={form}\r\n                                                                duplicate={duplicate}\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n\r\n                                                </motion.div>\r\n                                            ) : (\r\n                                                // Quiz Steps\r\n                                                <motion.div\r\n                                                    key={currentStep}\r\n                                                    variants={card}\r\n                                                    initial=\"initial\"\r\n                                                    animate=\"animate\"\r\n                                                    exit=\"exit\"\r\n                                                    className=\"space-y-5\"\r\n                                                >\r\n                                                    {/* Error banner */}\r\n                                                    {errorMsg && (\r\n                                                        <div className=\"rounded-xl border border-rose-200 bg-rose-50/90 px-3 py-2 text-xs text-rose-700\">\r\n                                                            {errorMsg}\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {/* Step content with icons */}\r\n                                                    {currentStep === \"nameLast\" && (\r\n                                                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n                                                            <InputWithIcon\r\n                                                                icon={FiUser}\r\n                                                                placeholder=\"First Name\"\r\n                                                                value={form.name}\r\n                                                                onChange={(e) =>\r\n                                                                    setForm((f) => ({\r\n                                                                        ...f,\r\n                                                                        name: e.target.value,\r\n                                                                    }))\r\n                                                                }\r\n                                                                autoComplete=\"given-name\"\r\n                                                            />\r\n                                                            <InputWithIcon\r\n                                                                icon={FiUser}\r\n                                                                placeholder=\"Last Name\"\r\n                                                                value={form.lastName}\r\n                                                                onChange={(e) =>\r\n                                                                    setForm((f) => ({\r\n                                                                        ...f,\r\n                                                                        lastName: e.target.value,\r\n                                                                    }))\r\n                                                                }\r\n                                                                autoComplete=\"family-name\"\r\n                                                            />\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {currentStep === \"exchanges\" && (\r\n                                                        <div className=\"grid gap-2.5\">\r\n                                                            {EXCHANGES.map((ex) => (\r\n                                                                <OptionButton\r\n                                                                    key={ex}\r\n                                                                    selected={form.exchanges.includes(ex)}\r\n                                                                    onClick={() => toggleMulti(\"exchanges\", ex)}\r\n                                                                >\r\n                                                                    {ex}\r\n                                                                </OptionButton>\r\n                                                            ))}\r\n                                                            {form.exchanges.includes(\"Other\") && (\r\n                                                                <div className=\"pt-1\">\r\n                                                                    <InputWithIcon\r\n                                                                        icon={FiCpu}\r\n                                                                        placeholder=\"Please specify exchanges\"\r\n                                                                        value={form.exchangesOther}\r\n                                                                        onChange={(e) =>\r\n                                                                            setForm((f) => ({\r\n                                                                                ...f,\r\n                                                                                exchangesOther: e.target.value,\r\n                                                                            }))\r\n                                                                        }\r\n                                                                    />\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {currentStep === \"wallets\" && (\r\n                                                        <div className=\"grid gap-2.5\">\r\n                                                            {WALLETS.map((w) => (\r\n                                                                <OptionButton\r\n                                                                    key={w}\r\n                                                                    selected={form.wallets.includes(w)}\r\n                                                                    onClick={() => toggleMulti(\"wallets\", w)}\r\n                                                                >\r\n                                                                    {w}\r\n                                                                </OptionButton>\r\n                                                            ))}\r\n                                                            {form.wallets.includes(\"Other\") && (\r\n                                                                <div className=\"pt-1\">\r\n                                                                    <InputWithIcon\r\n                                                                        icon={FiCpu}\r\n                                                                        placeholder=\"Please specify wallets/custody\"\r\n                                                                        value={form.walletsOther}\r\n                                                                        onChange={(e) =>\r\n                                                                            setForm((f) => ({\r\n                                                                                ...f,\r\n                                                                                walletsOther: e.target.value,\r\n                                                                            }))\r\n                                                                        }\r\n                                                                    />\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {currentStep === \"ledgerModel\" && (\r\n                                                        <div className=\"grid gap-2.5\">\r\n                                                            {LEDGER_MODELS.map((m) => (\r\n                                                                <OptionButton\r\n                                                                    key={m}\r\n                                                                    selected={form.ledgerModel === m}\r\n                                                                    onClick={() =>\r\n                                                                        setForm((f) => ({ ...f, ledgerModel: m }))\r\n                                                                    }\r\n                                                                >\r\n                                                                    {m}\r\n                                                                </OptionButton>\r\n                                                            ))}\r\n                                                            {form.ledgerModel === \"Other\" && (\r\n                                                                <div className=\"pt-1\">\r\n                                                                    <InputWithIcon\r\n                                                                        icon={FiCpu}\r\n                                                                        placeholder=\"Please specify Ledger model\"\r\n                                                                        value={form.ledgerModelOther}\r\n                                                                        onChange={(e) =>\r\n                                                                            setForm((f) => ({\r\n                                                                                ...f,\r\n                                                                                ledgerModelOther: e.target.value,\r\n                                                                            }))\r\n                                                                        }\r\n                                                                    />\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {currentStep === \"coins\" && (\r\n                                                        <div className=\"grid gap-2.5\">\r\n                                                            {COINS.map((c) => (\r\n                                                                <OptionButton\r\n                                                                    key={c}\r\n                                                                    selected={form.coins.includes(c)}\r\n                                                                    onClick={() => toggleMulti(\"coins\", c)}\r\n                                                                >\r\n                                                                    {c}\r\n                                                                </OptionButton>\r\n                                                            ))}\r\n                                                            {form.coins.includes(\"Other\") && (\r\n                                                                <div className=\"pt-1\">\r\n                                                                    <InputWithIcon\r\n                                                                        icon={FiCpu}\r\n                                                                        placeholder=\"Please specify holdings\"\r\n                                                                        value={form.coinsOther}\r\n                                                                        onChange={(e) =>\r\n                                                                            setForm((f) => ({\r\n                                                                                ...f,\r\n                                                                                coinsOther: e.target.value,\r\n                                                                            }))\r\n                                                                        }\r\n                                                                    />\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {currentStep === \"amount\" && (\r\n                                                        <div className=\"grid gap-2.5\">\r\n                                                            {AMOUNTS.map((a) => {\r\n                                                                const isSelected = form.amount === a.label;\r\n                                                                return (\r\n                                                                    <OptionButton\r\n                                                                        key={a.label}\r\n                                                                        selected={isSelected}\r\n                                                                        onClick={() =>\r\n                                                                            setForm((f) => ({\r\n                                                                                ...f,\r\n                                                                                amount: a.label,\r\n                                                                            }))\r\n                                                                        }\r\n                                                                    >\r\n                                      <span className=\"flex items-center h-full gap-3\">\r\n                                        <img\r\n                                            src={a.img}\r\n                                            alt={a.alt}\r\n                                            loading=\"lazy\"\r\n                                            decoding=\"async\"\r\n                                            className={[\r\n                                                \"h-24 w-24 sm:h-28 sm:w-28 absolute right-1.5 sm:right-2 -bottom-10 object-contain transition duration-300\",\r\n                                                isSelected\r\n                                                    ? \"opacity-100 brightness-110 drop-shadow-[0_0_14px_rgba(255,255,255,0.35)]\"\r\n                                                    : \"opacity-45 grayscale\",\r\n                                            ].join(\" \")}\r\n                                        />\r\n                                        <span>{a.label}</span>\r\n                                      </span>\r\n                                                                    </OptionButton>\r\n                                                                );\r\n                                                            })}\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {currentStep === \"contact\" && (\r\n                                                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n                                                            <InputWithIcon\r\n                                                                icon={FiMail}\r\n                                                                type=\"email\"\r\n                                                                placeholder=\"Email (for your invite)\"\r\n                                                                value={form.email}\r\n                                                                onChange={(e) =>\r\n                                                                    setForm((f) => ({\r\n                                                                        ...f,\r\n                                                                        email: e.target.value,\r\n                                                                    }))\r\n                                                                }\r\n                                                                autoComplete=\"email\"\r\n                                                            />\r\n\r\n                                                            {/* Universal phone (E.164) with country picker & search */}\r\n                                                            <div className=\"relative rounded-lg border border-slate-200 bg-white/80 px-2 py-1.5 focus-within:ring-2 focus-within:ring-[#5082B4]/40 focus-within:border-[#5082B4] transition\">\r\n                                                                <div className=\"flex items-center gap-2\">\r\n                                                                    <FiSmartphone className=\"ml-1.5 h-4.5 w-4.5 text-slate-500\" />\r\n                                                                    <div className=\"flex-1\">\r\n                                                                        <PhoneInput\r\n                                                                            country=\"au\"\r\n                                                                            enableSearch={false}\r\n                                                                            value={form.phone}\r\n                                                                            onChange={(value, data, event, formattedValue) => {\r\n                                                                                const e164 = value ? `+${value}` : \"\";\r\n                                                                                setForm((f) => ({\r\n                                                                                    ...f,\r\n                                                                                    phone: e164,\r\n                                                                                    phoneDialCode: data?.dialCode || \"61\",\r\n                                                                                    phoneCountry: \"au\",\r\n                                                                                    phonePretty: formattedValue,\r\n                                                                                }));\r\n                                                                            }}\r\n                                                                            countryCodeEditable={false}\r\n                                                                            inputStyle={{ border: \"none\", background: \"transparent\", width: \"100%\" }}\r\n                                                                            buttonStyle={{ border: \"none\", background: \"transparent\" }}\r\n                                                                        />\r\n\r\n                                                                    </div>\r\n                                                                </div>\r\n\r\n                                                                {!isValidPhone(form.phone, form.phoneCountry) && (form.phone?.length ?? 0) > 0 && (\r\n                                                                    (form.phoneCountry?.toLowerCase() === \"au\") ? (\r\n                                                                        <p className=\"mt-1 text-xs text-rose-600\">\r\n                                                                            Enter a valid Australian <span className=\"font-semibold\">mobile</span> in E.164 format, e.g.{\" \"}\r\n                                                                            <span className=\"font-mono\">+614XXXXXXXX</span> (must start with <span className=\"font-mono\">+61</span>,\r\n                                                                            then <span className=\"font-mono\">4</span> and 8 digits).\r\n                                                                        </p>\r\n                                                                    ) : (\r\n                                                                        <p className=\"mt-1 text-xs text-rose-600\">\r\n                                                                            Enter a valid phone with country code (E.164), e.g.{\" \"}\r\n                                                                            <span className=\"font-mono\">+1…</span>, <span className=\"font-mono\">+44…</span>,{\" \"}\r\n                                                                            <span className=\"font-mono\">+49…</span>, <span className=\"font-mono\">+61…</span>.\r\n                                                                        </p>\r\n                                                                    )\r\n                                                                )}\r\n\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {/* Nav */}\r\n                                                    <div className=\"mt-3 flex gap-3 justify-between\">\r\n                                                        <button\r\n                                                            onClick={onBack}\r\n                                                            disabled={stepIndex === 0 || loading}\r\n                                                            className=\"inline-flex items-center justify-center rounded-lg px-5 py-3 font-medium text-[#0B1020] ring-1 ring-black/10 bg-white hover:bg-neutral-50 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                                        >\r\n                                                            Back\r\n                                                        </button>\r\n                                                        <button\r\n                                                            onClick={onContinue}\r\n                                                            disabled={!isValid || loading}\r\n                                                            className=\"inline-flex items-center gap-2 rounded-lg px-5 py-3 font-semibold text-white bg-[#5082B4] hover:opacity-95 active:opacity-90 transition shadow disabled:opacity-60 disabled:cursor-not-allowed\"\r\n                                                        >\r\n                                                            {stepIndex === totalSteps - 1\r\n                                                                ? loading\r\n                                                                    ? \"Submitting…\"\r\n                                                                    : \"Submit\"\r\n                                                                : \"Continue\"}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </motion.div>\r\n                                            )}\r\n                                        </AnimatePresence>\r\n                                    </div>\r\n\r\n                                    {/* Subtle bottom fade */}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n            </motion.div>\r\n\r\n        </AnimatePresence>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}